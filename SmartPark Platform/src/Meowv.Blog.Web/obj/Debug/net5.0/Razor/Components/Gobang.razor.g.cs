#pragma checksum "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "751499508cd781a1577170a8f8ddbd88aad94ea4"
// <auto-generated/>
#pragma warning disable 1591
namespace Meowv.Blog.Web.Components
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
using Meowv.Blog.Web.Models.Gobang;

#line default
#line hidden
#nullable disable
    public partial class Gobang : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "post-wrap");
            __builder.OpenElement(2, "div");
            __builder.AddAttribute(3, "class", "gobang-box");
            __builder.OpenElement(4, "div");
            __builder.AddAttribute(5, "class", "chess");
#nullable restore
#line 9 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
             for (var i = 0; i < 19; i++)
            {
                

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
                 for (var j = 0; j < 19; j++)
                {
                    var _i = i;
                    var _j = j;

#line default
#line hidden
#nullable disable
            __builder.OpenElement(6, "div");
            __builder.AddAttribute(7, "class", "cell");
            __builder.AddAttribute(8, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 15 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
                                                  async () => await Playing(_i, _j)

#line default
#line hidden
#nullable disable
            ));
            __builder.OpenElement(9, "span");
            __builder.AddAttribute(10, "class", "chess" + (
#nullable restore
#line 16 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
                                            Chess[i, j]

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 18 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
                 
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(11, "\r\n        ");
            __builder.OpenElement(12, "div");
            __builder.AddAttribute(13, "class", "chess-info");
            __builder.AddMarkupContent(14, "<h1>äº”å­æ£‹âš«âšª</h1>\r\n            ");
            __builder.AddMarkupContent(15, "<p><b>âš¡æ˜¯æ—¶å€™è¡¨æ¼”çœŸæ­£çš„æŠ€æœ¯äº†ï¼Œå¿«æ¥ä¸€åœºäººæœºå¤§æˆ˜å§âš¡</b></p>\r\n            ");
            __builder.OpenElement(16, "p");
            __builder.OpenElement(17, "label");
            __builder.OpenElement(18, "input");
            __builder.AddAttribute(19, "type", "radio");
            __builder.AddAttribute(20, "name", "chess");
            __builder.AddAttribute(21, "checked", "checked");
            __builder.AddAttribute(22, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 24 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
                                                                                     () => first = "ai"

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(23, " ç”µè„‘å…ˆæ‰‹");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(24, "\r\n            ");
            __builder.OpenElement(25, "p");
            __builder.OpenElement(26, "label");
            __builder.OpenElement(27, "input");
            __builder.AddAttribute(28, "type", "radio");
            __builder.AddAttribute(29, "name", "chess");
            __builder.AddAttribute(30, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 25 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
                                                                   () => first = "me"

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(31, " æˆ‘å…ˆæ‰‹");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(32, "\r\n            ");
            __builder.OpenElement(33, "p");
            __builder.OpenElement(34, "button");
            __builder.AddAttribute(35, "class", "box-btn");
            __builder.AddAttribute(36, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 26 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
                                                 StartGame

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(37, 
#nullable restore
#line 26 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
                                                              IsInGame ? "ç»“æŸæ¸¸æˆ" : "å¼€å§‹æ¸¸æˆ"

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(38, "\r\n            ");
            __builder.OpenElement(39, "div");
            __builder.AddAttribute(40, "class", "chess-msg");
            __builder.OpenElement(41, "p");
            __builder.OpenElement(42, "b");
            __builder.AddContent(43, 
#nullable restore
#line 28 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
                       msgs

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(44, "\r\n                ");
            __builder.AddMarkupContent(45, "<p>æ¸¸æˆè§„åˆ™ï¼š</p>\r\n                ");
            __builder.AddMarkupContent(46, "<span>ï¼ˆ1ï¼‰è¯·é€‰æ‹©ç”µè„‘å…ˆæ‰‹è¿˜æ˜¯ä½ å…ˆæ‰‹ï¼Œé»‘æ£‹å§‹ç»ˆå…ˆæ‰‹ã€‚</span>\r\n                ");
            __builder.AddMarkupContent(47, "<span>ï¼ˆ2ï¼‰ç‚¹å‡»å¼€å§‹æ¸¸æˆæŒ‰é’®å¼€å§‹å¯¹å±€ã€‚</span>\r\n                ");
            __builder.AddMarkupContent(48, "<span>ï¼ˆ3ï¼‰ç‚¹å‡»ç»“æŸæ¸¸æˆæŒ‰é’®ç»“æŸå¯¹å±€ã€‚</span>\r\n                ");
            __builder.AddMarkupContent(49, "<span>ï¼ˆ4ï¼‰å¯¹å±€åŒæ–¹å„æ‰§ä¸€è‰²æ£‹å­ã€‚</span>\r\n                ");
            __builder.AddMarkupContent(50, "<span>ï¼ˆ5ï¼‰ç©ºæ£‹ç›˜å¼€å±€ã€‚</span>\r\n                ");
            __builder.AddMarkupContent(51, "<span>ï¼ˆ6ï¼‰é»‘å…ˆã€ç™½åï¼Œäº¤æ›¿ä¸‹å­ï¼Œæ¯æ¬¡åªèƒ½ä¸‹ä¸€å­ã€‚</span>\r\n                ");
            __builder.AddMarkupContent(52, "<span>ï¼ˆ7ï¼‰æ£‹å­ä¸‹åœ¨æ£‹ç›˜çš„ç©ºç™½ç‚¹ä¸Šï¼Œæ£‹å­ä¸‹å®šåï¼Œä¸å¾—å‘å…¶å®ƒç‚¹ç§»åŠ¨ï¼Œä¸å¾—ä»æ£‹ç›˜ä¸Šæ‹¿æ‰æˆ–æ‹¿èµ·å¦è½åˆ«å¤„ã€‚</span>\r\n                ");
            __builder.AddMarkupContent(53, "<span>ï¼ˆ8ï¼‰é»‘æ–¹çš„ç¬¬ä¸€æšæ£‹å­å¯ä¸‹åœ¨æ£‹ç›˜ä»»æ„äº¤å‰ç‚¹ä¸Šã€‚</span>\r\n                ");
            __builder.AddMarkupContent(54, "<span>ï¼ˆ9ï¼‰è½®æµä¸‹å­æ˜¯åŒæ–¹çš„æƒåˆ©ï¼Œ<del>ä½†å…è®¸ä»»ä½•ä¸€æ–¹æ”¾å¼ƒä¸‹å­æƒï¼ˆå³ï¼šPASSæƒï¼‰</del>ã€‚</span>\r\n                ");
            __builder.AddMarkupContent(55, "<span>ï¼ˆ10ï¼‰<del>äº”å­æ£‹å¯¹å±€ï¼Œæ‰§è¡Œé»‘æ–¹æŒ‡å®šå¼€å±€ã€ä¸‰æ‰‹å¯äº¤æ¢ã€äº”æ‰‹ä¸¤æ‰“çš„è§„å®šã€‚æ•´ä¸ªå¯¹å±€è¿‡ç¨‹ä¸­é»‘æ–¹æœ‰ç¦æ‰‹ï¼Œç™½æ–¹æ— ç¦æ‰‹ã€‚é»‘æ–¹ç¦æ‰‹æœ‰ä¸‰ä¸‰ç¦æ‰‹ã€å››å››ç¦æ‰‹å’Œé•¿è¿ç¦æ‰‹ä¸‰ç§ã€‚</del></span>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 45 "D:\Github\Blog\src\Meowv.Blog.Web\Components\Gobang.razor"
       
        /// <summary>
        /// æ£‹ç›˜äºŒç»´æ•°ç»„ 19âœ–19
        /// </summary>
    private int[,] Chess = new int[19, 19];

    /// <summary>
    /// å…ˆæ‰‹
    /// </summary>
    private string first = "ai";

    /// <summary>
    /// æ˜¯å¦åœ¨æ¸¸æˆä¸­
    /// </summary>
    private bool IsInGame = false;

    /// <summary>
    /// æ˜¾ç¤ºæ¶ˆæ¯
    /// </summary>
    private string msgs;

    /// <summary>
    /// é»˜è®¤ç”µè„‘ä¸ºé»‘å­
    /// </summary>
    private int AIChess = 1;

    /// <summary>
    /// é»˜è®¤æˆ‘ä¸ºç™½å­
    /// </summary>
    private int MineChess = 2;

    /// <summary>
    /// å¼€å§‹æ¸¸æˆ
    /// </summary>
    private void StartGame()
    {
        // åˆå§‹åŒ–æ£‹ç›˜
        Chess = new int[19, 19];

        // æ˜¯å¦å¼€å§‹æ¸¸æˆï¼Œç‚¹å‡»æŒ‰é’®é‡ç½®æ˜¾ç¤ºæ¶ˆæ¯
        if (IsInGame)
        {
            msgs = string.Empty;
        }
        else
        {
            // ç”µè„‘å…ˆæ‰‹
            if (first == "ai")
            {
                AIChess = 1;
                MineChess = 2;

                // ç”µè„‘è½å­æ­£ä¸­å¿ƒå¤©å…ƒä½ç½®
                Chess[9, 9] = AIChess;

                msgs = "ç”µè„‘ï¼šæ‰§é»‘å­ âš« æˆ‘ï¼šæ‰§ç™½å­ âšª";
            }
            else
            {
                // æˆ‘å…ˆæ‰‹çš„è¯åˆ™æˆ‘æ‰§é»‘å­ï¼Œç”µè„‘æ‰§ç™½å­
                MineChess = 1;
                AIChess = 2;

                msgs = "æˆ‘ï¼šæ‰§é»‘å­ âš« ç”µè„‘ï¼šæ‰§ç™½å­ âšª";
            }
        }

        // æ”¹å˜æ¸¸æˆçŠ¶æ€ï¼Œç”¨äºæ˜¾ç¤ºä¸åŒæ–‡å­—çš„æŒ‰é’®
        IsInGame = !IsInGame;
    }

    /// <summary>
    /// æˆ‘æ–¹è½å­
    /// </summary>
    /// <param name="row"></param>
    /// <param name="cell"></param>
    /// <returns></returns>
    private async Task Playing(int row, int cell)
    {
        // æ˜¯å¦å¼€å§‹æ¸¸æˆï¼Œå½“å‰åˆ¤æ–­æ²¡å¼€å§‹ç»™å‡ºæç¤º
        if (!IsInGame)
        {
            await _jsRuntime.InvokeVoidAsync("alert", "\nğŸ’ªç‚¹å‡»å¼€å§‹æ¸¸æˆæŒ‰é’®å¼€å¯å¯¹å±€ï¼Œè¯·é˜…è¯»æ¸¸æˆè§„åˆ™ğŸ’ª");
            return;
        }

        // å·²è½å­ç›´æ¥è¿”å›ï¼Œä¸åšä»»ä½•æ“ä½œ
        if (Chess[row, cell] != 0)
            return;

        // æ ¹æ®ä¼ è¿›æ¥çš„åæ ‡è¿›è¡Œæˆ‘æ–¹è½å­
        Chess[row, cell] = MineChess;

        if (IsWin(MineChess, row, cell))
        {
            await _jsRuntime.InvokeVoidAsync("alert", "\næ­å–œï¼Œä½ èµ¢äº†ğŸ‘");
            IsInGame = !IsInGame;
            return;
        }

        // æˆ‘æ–¹è½å­ä¹‹åç”µè„‘è½å­
        await AIPlaying(AIChess);
    }

    /// <summary>
    /// ç”µè„‘è½å­
    /// </summary>
    /// <param name="chess"></param>
    /// <returns></returns>
    private async Task AIPlaying(int chess)
    {
        // æˆ‘æ–¹
        var minePoints = new List<ValuedPoint>();
        // ç”µè„‘
        var aiPonints = new List<ValuedPoint>();

        for (int i = 0; i < 19; i++)
        {
            for (int j = 0; j < 19; j++)
            {
                // è¿˜æœªè½å­çš„ä½ç½®åˆ—è¡¨
                if (Chess[i, j] == 0)
                {
                    minePoints.Add(GetValuedPoint(chess, i, j));

                    aiPonints.Add(GetValuedPoint((chess == 1 ? 2 : 1), i, j));
                }
            }
        }

        // è·å–æœ€ä½³ä½ç½®
        var minePoint = minePoints.OrderByDescending(x => x.Score).FirstOrDefault();
        var aiPonint = aiPonints.OrderByDescending(x => x.Score).FirstOrDefault();

        if (minePoint != null && aiPonint != null)
        {
            // å¦‚æœæŸä¸ªä½ç½®å¯¹æ‰‹åˆ†æ•°é«˜äºæˆ‘æ–¹ï¼Œåˆ™æŠ¢å ä½ç½®
            if (minePoint.Score > aiPonint.Score)
            {
                Chess[minePoint.Point.Row, minePoint.Point.Cell] = chess;

                if (IsWin(AIChess, minePoint.Point.Row, minePoint.Point.Cell))
                {
                    await _jsRuntime.InvokeVoidAsync("alert", "\nç”µè„‘èµ¢äº†ï¼Œä½ ä¸ªæ¸£æ¸£ğŸ‘");

                    IsInGame = !IsInGame;
                    return;
                }
            }
            else
            {
                Chess[aiPonint.Point.Row, aiPonint.Point.Cell] = chess;

                if (IsWin(AIChess, aiPonint.Point.Row, aiPonint.Point.Cell))
                {
                    await _jsRuntime.InvokeVoidAsync("alert", "\nç”µè„‘èµ¢äº†ï¼Œä½ ä¸ªæ¸£æ¸£ğŸ‘");
                    IsInGame = !IsInGame;
                    return;
                }
            }
        }
    }

    /// <summary>
    /// åˆ¤æ–­æ˜¯å¦èµ¢äº†
    /// </summary>
    /// <param name="chess"></param>
    /// <param name="row"></param>
    /// <param name="cell"></param>
    /// <returns></returns>
    private bool IsWin(int chess, int row, int cell)
    {
        #region æ¨ªæ–¹å‘ â¡â¬…

        {
            var i = 1;
            var score = 1;
            var rightValid = true;
            var leftValid = true;

            while (i <= 5)
            {
                var right = cell + i;
                if (rightValid && right < 19)
                {
                    if (Chess[row, right] == chess)
                    {
                        score++;
                        if (score >= 5)
                            return true;
                    }
                    else
                        rightValid = false;
                }

                var left = cell - i;
                if (leftValid && left >= 0)
                {
                    if (Chess[row, left] == chess)
                    {
                        score++;
                        if (score >= 5)
                            return true;
                    }
                    else
                        leftValid = false;
                }

                i++;
            }
        }

        #endregion

        #region ç«–æ–¹å‘ â¬‡â¬†

        {
            var i = 1;
            var score = 1;
            var topValid = true;
            var bottomValid = true;

            while (i < 5)
            {
                var top = row - i;
                if (topValid && top >= 0)
                {
                    if (Chess[top, cell] == chess)
                    {
                        score++;
                        if (score >= 5)
                            return true;
                    }
                    else
                        topValid = false;
                }

                var bottom = row + i;
                if (bottomValid && bottom < 19)
                {
                    if (Chess[bottom, cell] == chess)
                    {
                        score++;
                        if (score >= 5)
                            return true;
                    }
                    else
                    {
                        bottomValid = false;
                    }
                }

                i++;
            }
        }

        #endregion

        #region æ’‡æ–¹å‘ â†™â†—

        {
            var i = 1;
            var score = 1;
            var topValid = true;
            var bottomValid = true;

            while (i < 5)
            {
                var rightTopRow = row - i;
                var rightTopCell = cell + i;
                if (topValid && rightTopRow >= 0 && rightTopCell < 19)
                {
                    if (Chess[rightTopRow, rightTopCell] == chess)
                    {
                        score++;
                        if (score >= 5)
                            return true;
                    }
                    else
                        topValid = false;
                }

                var leftBottomRow = row + i;
                var leftBottomCell = cell - i;
                if (bottomValid && leftBottomRow < 19 && leftBottomCell >= 0)
                {
                    if (Chess[leftBottomRow, leftBottomCell] == chess)
                    {
                        score++;
                        if (score >= 5)
                            return true;
                    }
                    else
                        bottomValid = false;
                }

                i++;
            }
        }

        #endregion

        #region æºæ–¹å‘ â†˜â†–

        {
            var i = 1;
            var score = 1;
            var topValid = true;
            var bottomValid = true;

            while (i < 5)
            {
                var leftTopRow = row - i;
                var leftTopCell = cell - i;
                if (topValid && leftTopRow >= 0 && leftTopCell >= 0)
                {
                    if (Chess[leftTopRow, leftTopCell] == chess)
                    {
                        score++;
                        if (score >= 5)
                            return true;
                    }
                    else
                        topValid = false;
                }

                var rightBottomRow = row + i;
                var rightBottomCell = cell + i;
                if (bottomValid && rightBottomRow < 19 && rightBottomCell < 19)
                {
                    if (Chess[rightBottomRow, rightBottomCell] == chess)
                    {
                        score++;
                        if (score >= 5)
                            return true;
                    }
                    else
                        bottomValid = false;
                }

                i++;
            }
        }

        #endregion

        return false;
    }

    /// <summary>
    /// è·å–å½“å‰ä½ç½®ç‚¹çš„ä»·å€¼åˆ†
    /// </summary>
    /// <param name="chess"></param>
    /// <param name="row"></param>
    /// <param name="cell"></param>
    /// <returns></returns>
    private ValuedPoint GetValuedPoint(int chess, int row, int cell)
    {
        var aiChess = chess == 1 ? 2 : 1;

        int HScore = 0, VScore = 0, PScore = 0, LScore = 0;

        #region æ¨ªæ–¹å‘ â¡â¬…

        {
            var i = 1;
            var score = 1;
            var validPlace = 0;
            var rightValid = true;
            var leftValid = true;
            var rightSpace = 0;
            var leftSpace = 0;
            var isDead = false;

            while (i < 5)
            {
                var right = cell + i;
                if (rightValid && right < 19)
                {
                    if (Chess[row, right] == chess)
                    {
                        if (rightSpace == 0)
                            score++;
                        validPlace++;
                    }
                    else if (Chess[row, right] == 0)
                    {
                        rightSpace++;
                        validPlace++;
                    }
                    else if (Chess[row, right] == aiChess)
                    {
                        rightValid = false;
                        if (rightSpace == 0)
                            isDead = true;
                    }
                }

                var left = cell - i;
                if (leftValid && left >= 0)
                {
                    if (Chess[row, left] == chess)
                    {
                        if (leftSpace == 0)
                            score++;
                        validPlace++;
                    }
                    else if (Chess[row, left] == 0)
                    {
                        leftSpace++;
                        validPlace++;
                    }
                    else if (Chess[row, left] == aiChess)
                    {
                        leftValid = false;
                        if (leftSpace == 0)
                            isDead = true;
                    }
                }

                i++;
            }

            if (score >= 5)
                HScore = 100000;

            if (score == 4)
            {
                if (!isDead)
                    HScore = 80000;
                else
                    HScore = validPlace <= 4 ? 0 : 8000;
            }

            if (score == 3)
            {
                if (!isDead)
                    HScore = validPlace <= 4 ? 0 : 4000;
                else
                    HScore = validPlace <= 4 ? 0 : 2000;
            }

            if (score == 2)
            {
                if (!isDead)
                    HScore = validPlace <= 4 ? 0 : 600;
                else
                    HScore = validPlace <= 4 ? 0 : 300;
            }
        }

        #endregion

        #region ç«–æ–¹å‘ â¬‡â¬†

        {
            var i = 1;
            var score = 1;
            var validPlace = 0;
            var topValid = true;
            var bottomValid = true;
            var topSpace = 0;
            var bottomSpace = 0;
            var isDead = false;

            while (i < 5)
            {
                var top = row - i;
                if (topValid && top >= 0)
                {
                    if (Chess[top, cell] == chess)
                    {
                        if (topSpace == 0)
                            score++;
                        validPlace++;
                    }
                    else if (Chess[top, cell] == 0)
                    {
                        topSpace++;
                        validPlace++;
                    }
                    else if (Chess[top, cell] == aiChess)
                    {
                        topValid = false;
                        if (topSpace == 0)
                            isDead = true;
                    }
                }

                var bottom = row + i;
                if (bottomValid && bottom < 19)
                {
                    if (Chess[bottom, cell] == chess)
                    {
                        if (bottomSpace == 0)
                            score++;
                        validPlace++;
                    }
                    else if (Chess[bottom, cell] == 0)
                    {
                        bottomSpace++;
                        validPlace++;
                    }
                    else if (Chess[bottom, cell] == aiChess)
                    {
                        bottomValid = false;
                        if (bottomSpace == 0)
                            isDead = true;
                    }
                }

                i++;
            }

            if (score >= 5)
                VScore = 100000;

            if (score == 4)
            {
                if (!isDead)
                    VScore = 80000;
                else
                    VScore = validPlace <= 4 ? 0 : 8000;
            }
            if (score == 3)
            {
                if (!isDead)
                    VScore = validPlace <= 4 ? 0 : 4000;
                else
                    VScore = validPlace <= 4 ? 0 : 2000;
            }
            if (score == 2)
            {
                if (!isDead)
                    VScore = validPlace <= 4 ? 0 : 600;
                else
                    VScore = validPlace <= 4 ? 0 : 300;
            }
        }

        #endregion

        #region æ’‡æ–¹å‘ â†™â†—

        {
            var i = 1;
            var score = 1;
            var validPlace = 0;
            var topValid = true;
            var bottomValid = true;
            var topSpace = 0;
            var bottomSpace = 0;
            var isDead = false;

            while (i < 5)
            {
                var rightTopRow = row - i;
                var rightTopCell = cell + i;
                if (topValid && rightTopRow >= 0 && rightTopCell < 19)
                {
                    if (Chess[rightTopRow, rightTopCell] == chess)
                    {
                        if (topSpace == 0)
                            score++;
                        validPlace++;
                    }
                    else if (Chess[rightTopRow, rightTopCell] == 0)
                    {
                        topSpace++;
                        validPlace++;
                    }
                    else if (Chess[rightTopRow, rightTopCell] == aiChess)
                    {
                        topValid = false;
                        if (topSpace == 0)
                            isDead = true;
                    }
                }

                var leftBottomRow = row + i;
                var leftBottomCell = cell - i;
                if (bottomValid && leftBottomRow < 19 && leftBottomCell >= 0)
                {
                    if (Chess[leftBottomRow, leftBottomCell] == chess)
                    {
                        if (bottomSpace == 0)
                            score++;
                        validPlace++;
                    }
                    else if (Chess[leftBottomRow, leftBottomCell] == 0)
                    {
                        bottomSpace++;
                        validPlace++;
                    }
                    else if (Chess[leftBottomRow, leftBottomCell] == aiChess)
                    {
                        bottomValid = false;
                        if (bottomSpace == 0)
                            isDead = true;
                    }
                }

                i++;
            }

            if (score >= 5)
                PScore = 100000;

            if (score == 4)
            {
                if (!isDead)
                    PScore = 80000;
                else
                    PScore = validPlace <= 4 ? 0 : 9000;
            }
            if (score == 3)
            {
                if (!isDead)
                    PScore = validPlace <= 4 ? 0 : 4500;
                else
                    PScore = validPlace <= 4 ? 0 : 3000;
            }
            if (score == 2)
            {
                if (!isDead)
                    PScore = validPlace <= 4 ? 0 : 800;
                else
                    PScore = validPlace <= 4 ? 0 : 500;
            }
        }

        #endregion

        #region æºæ–¹å‘ â†˜â†–

        {
            var i = 1;
            var score = 1;
            var validPlace = 0;
            var topSpace = 0;
            var bottomSpace = 0;
            var topValid = true;
            var bottomValid = true;
            var isDead = false;

            while (i < 5)
            {
                var leftTopRow = row - i;
                var leftTopCell = cell - i;
                if (topValid && leftTopRow >= 0 && leftTopCell >= 0)
                {
                    if (Chess[leftTopRow, leftTopCell] == chess)
                    {
                        if (topSpace == 0)
                            score++;
                        validPlace++;
                    }
                    else if (Chess[leftTopRow, leftTopCell] == 0)
                    {
                        topSpace++;
                        validPlace++;
                    }
                    else if (Chess[leftTopRow, leftTopCell] == aiChess)
                    {
                        topValid = false;
                        if (topSpace == 0)
                            isDead = true;
                    }
                }

                var rightBottomRow = row + i;
                var rightBottomCell = cell + i;
                if (bottomValid && rightBottomRow < 19 && rightBottomCell < 19)
                {
                    if (Chess[rightBottomRow, rightBottomCell] == chess)
                    {
                        if (bottomSpace == 0)
                            score++;
                        validPlace++;
                    }
                    else if (Chess[rightBottomRow, rightBottomCell] == 0)
                    {
                        bottomSpace++;
                        validPlace++;
                    }
                    else if (Chess[rightBottomRow, rightBottomCell] == aiChess)
                    {
                        bottomValid = false;
                        if (bottomSpace == 0)
                            isDead = true;
                    }
                }

                i++;
            }

            if (score >= 5)
                LScore = 100000;

            if (score == 4)
            {
                if (!isDead)
                    LScore = 80000;
                else
                    LScore = validPlace <= 4 ? 0 : 9000;
            }

            if (score == 3)
            {
                if (!isDead)
                    LScore = validPlace <= 4 ? 0 : 4500;
                else
                    LScore = validPlace <= 4 ? 0 : 3000;
            }

            if (score == 2)
            {
                if (!isDead)
                    LScore = validPlace <= 4 ? 0 : 800;
                else
                    LScore = validPlace <= 4 ? 0 : 500;
            }
        }

        #endregion

        return new ValuedPoint
        {
            Score = HScore + VScore + PScore + LScore,
            Point = new Point
            {
                Row = row,
                Cell = cell
            }
        };
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime _jsRuntime { get; set; }
    }
}
#pragma warning restore 1591
